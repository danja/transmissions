<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="/css/fonts.css" type="text/css"/>
        <link rel="stylesheet" href="/css/grid-columns.css" type="text/css"/>
        <link rel="stylesheet" href="/css/style.css" type="text/css"/>
        <title>Priorities</title>
    </head>
    <!-- POST PAGE TEMPLATE -->
    <body>
        <header id="entry-header">
            <h1 class="post-title h-cinzel">
                
            </h1>
        </header>
        <h1>Priorities</h1>
<p>Repairing/refactoring #:postcraft</p>
<p>In #:transmissions I have to be clearer about where processors get their instructions. I think this is what it should be, in descending order :</p>
<p>Properties in the :</p>
<ol>
<li><code>message</code> they receive</li>
<li>target <code>manifest.ttl</code></li>
<li>application <code>config.ttl</code></li>
<li><em>sensible default TBD</em></li>
</ol>
<p>Right now I need it in <code>DirWalker</code>. It appears I&#39;ve used <code>message.sourceDir</code> there before. Not ideal naming, but I get why - &quot;sourceDir&quot; will make sense in lots of other processors.</p>
<pre><code class=\"language-javascript\">import path from \\&#39;path\\&#39;
import ns from \\&#39;../../utils/ns.js\\&#39;
...

var templateFilename = this.getProperty(ns.trm.templateFilename)
</code></pre>
<p>need to check :</p>
<pre><code>\\&quot;targetPath\\&quot;: \\&quot;/home/danny/github-danny/postcraft/test-site\\&quot;,
</code></pre>
<p>for future ref, this is the funny replace I needed in <code>DirWalker</code> to get a subdirectory :</p>
<pre><code class=\"language-javascript\">      message.subdir = path.dirname(path.relative(message.targetPath, fullPath)).split(path.sep)[1];
</code></pre>

        <div class="entry-footer">
            <h2>About</h2>
            
        </div>
    </body>
</html>